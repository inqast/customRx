# RxJava

## Архитектура системы
Библиотека customRx представляет собой реализацию реактивного программирования, вдохновленную RxJava. Основные компоненты системы:

- **Observable**: Представляет поток данных.
- **Observer**: Интерфейс для получения данных от Observable.
- **Schedulers**: Компоненты, управляющие потоками выполнения задач.
- **Operators**: Методы для трансформации и комбинирования потоков данных.

Архитектура ориентирована на модульность и расширяемость, что позволяет легко добавлять новые операторы и планировщики.

## Планировщики (Schedulers)
В библиотеке реализованы следующие планировщики:

- **SingleThreadScheduler**: Использует один поток для последовательного выполнения. Гарантирует последовательное выполнение.
- **ComputationScheduler**: Предназначен для вычислительно интенсивных задач. Использует пул потоков, соответствующий количеству доступных ядер процессора. Предотвращает создание избыточных потоков.
- **IoScheduler**: Оптимизирован для операций ввода-вывода, таких как сетевые запросы или файловые операции. Создает новые потоки по мере необходимости. Переиспользует неактивные потоки.

Каждый планировщик реализует интерфейс Scheduler, предоставляя метод schedule(Runnable task) для планирования задач.

Тестирование системы включает следующие аспекты:

1. **Базовые компоненты**
   - Создание `Observable`.
   - Подписки и отписки.
   - Обработка ошибок.

2. **Операторы**
   - Использование `map` и `filter`.
   - Использование `flatMap`.

3. **Schedulers**
   - Работа в разных потоках.
   - Проверка `subscribeOn` и `observeOn`.

## Пример

```java
DefaultObserver<String> observer = new DefaultObserver<>();

Observable<Integer> source = Observable.create(obs -> {
    obs.onNext(1);
    obs.onNext(2);
    obs.onComplete();
});

Observable<String> result = source.flatMap(i -> Observable.create(obs -> {
    if (i == 2) {
        throw error;
    }
    obs.onNext("Value: " + i);
    obs.onComplete();
}));

result.subscribe(observer);

List<T> list = observer.getItems();
RuntimeException error = observer.getError();
```